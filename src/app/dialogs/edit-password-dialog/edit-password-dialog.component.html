<div class="app-dialog app-add-user-dialog">
    <div class="app-dialog-header">
        <div class="app-dialog-title">
            {{ 'users.edit-password-title-1' | translate }}: {{ data.login }} â€“Â {{ 'users.edit-password-title-2' | translate }}
        </div>
        <div class="app-close" (click)="onCancel()">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M0.46967 0.46967C0.762563 0.176777 1.23744 0.176777 1.53033 0.46967L7 5.93934L12.4697 0.46967C12.7626 0.176777 13.2374 0.176777 13.5303 0.46967C13.8232 0.762563 13.8232 1.23744 13.5303 1.53033L8.06066 7L13.5303 12.4697C13.8232 12.7626 13.8232 13.2374 13.5303 13.5303C13.2374 13.8232 12.7626 13.8232 12.4697 13.5303L7 8.06066L1.53033 13.5303C1.23744 13.8232 0.762563 13.8232 0.46967 13.5303C0.176777 13.2374 0.176777 12.7626 0.46967 12.4697L5.93934 7L0.46967 1.53033C0.176777 1.23744 0.176777 0.762563 0.46967 0.46967Z"
                    fill="#4C6580"
                />
                <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M0.46967 0.46967C0.762563 0.176777 1.23744 0.176777 1.53033 0.46967L7 5.93934L12.4697 0.46967C12.7626 0.176777 13.2374 0.176777 13.5303 0.46967C13.8232 0.762563 13.8232 1.23744 13.5303 1.53033L8.06066 7L13.5303 12.4697C13.8232 12.7626 13.8232 13.2374 13.5303 13.5303C13.2374 13.8232 12.7626 13.8232 12.4697 13.5303L7 8.06066L1.53033 13.5303C1.23744 13.8232 0.762563 13.8232 0.46967 13.5303C0.176777 13.2374 0.176777 12.7626 0.46967 12.4697L5.93934 7L0.46967 1.53033C0.176777 1.23744 0.176777 0.762563 0.46967 0.46967Z"
                    fill="#4C6580"
                />
            </svg>
        </div>
    </div>
    <div class="app-dialog-body" [formGroup]="userForm">
        <!-- Password -->
        <div class="app-part-content app-part-password">
            <div class="app-base-input-label">{{ 'users.Password' | translate }}</div>
            <mat-form-field appearance="outline" class="app-base-input-field">
                <input matInput formControlName="password" />
                <mat-button
                    mat-icon-button
                    matSuffix
                    (click)="generatePassword()"
                    type="button"
                    aria-label="Generate password"
                    [matTooltip]="'users.hints.generate-password' | translate"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M19.6701 11.0005C19.6701 11.4147 20.0059 11.7505 20.4201 11.7505C20.8343 11.7505 21.1701 11.4147 21.1701 11.0005V7.68048C21.1701 5.60627 19.4943 3.93048 17.4201 3.93048H5.39084L7.2705 2.05084C7.5634 1.75795 7.5634 1.28308 7.27051 0.990181C6.97761 0.697286 6.50274 0.697283 6.20985 0.990175L3.05681 4.14318C2.91694 4.27942 2.83008 4.46981 2.83008 4.68048C2.83008 4.89114 2.91693 5.08151 3.05677 5.21774L6.20984 8.37084C6.50273 8.66374 6.97761 8.66374 7.2705 8.37085C7.5634 8.07796 7.5634 7.60308 7.27051 7.31019L5.39082 5.43048H17.4201C18.6659 5.43048 19.6701 6.4347 19.6701 7.68048V11.0005Z"
                            fill="#8099B3"
                        />
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M4.33026 13.52C4.33026 13.1058 3.99447 12.77 3.58026 12.77C3.16605 12.77 2.83026 13.1058 2.83026 13.52V16.84C2.83026 18.9142 4.50605 20.59 6.58026 20.59H18.6095L16.7299 22.4697C16.437 22.7626 16.437 23.2374 16.7299 23.5303C17.0228 23.8232 17.4976 23.8232 17.7905 23.5303L20.9436 20.3773C21.0834 20.2411 21.1703 20.0507 21.1703 19.84C21.1703 19.6294 21.0834 19.439 20.9436 19.3028L17.7905 16.1497C17.4976 15.8568 17.0228 15.8568 16.7299 16.1497C16.437 16.4426 16.437 16.9174 16.7299 17.2103L18.6095 19.09H6.58026C5.33447 19.09 4.33026 18.0858 4.33026 16.84V13.52Z"
                            fill="#8099B3"
                        />
                    </svg>
                </mat-button>
                <mat-button
                    mat-icon-button
                    matSuffix
                    (click)="copyPassword()"
                    type="button"
                    aria-label="Copy password"
                    [matTooltip]="'users.hints.copy-password' | translate"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M2.44489 6.44489C2.05954 6.83025 1.83301 7.48232 1.83301 8.59967V11.3997C1.83301 12.517 2.05954 13.1691 2.44489 13.5545C2.83025 13.9398 3.48232 14.1663 4.59967 14.1663H7.39967C8.51703 14.1663 9.1691 13.9398 9.55445 13.5545C9.93981 13.1691 10.1663 12.517 10.1663 11.3997V8.59967C10.1663 7.48232 9.93981 6.83025 9.55445 6.44489C9.1691 6.05954 8.51703 5.83301 7.39967 5.83301H4.59967C3.48232 5.83301 2.83025 6.05954 2.44489 6.44489ZM1.73779 5.73779C2.40243 5.07314 3.38369 4.83301 4.59967 4.83301H7.39967C8.61566 4.83301 9.59692 5.07314 10.2616 5.73779C10.9262 6.40243 11.1663 7.38369 11.1663 8.59967V11.3997C11.1663 12.6157 10.9262 13.5969 10.2616 14.2616C9.59692 14.9262 8.61566 15.1663 7.39967 15.1663H4.59967C3.38369 15.1663 2.40243 14.9262 1.73779 14.2616C1.07314 13.5969 0.833008 12.6157 0.833008 11.3997V8.59967C0.833008 7.38369 1.07314 6.40243 1.73779 5.73779Z"
                            fill="#8099B3"
                        />
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M6.44489 2.44489C6.05954 2.83025 5.83301 3.48232 5.83301 4.59967V4.83301H7.39967C8.61566 4.83301 9.59692 5.07314 10.2616 5.73779C10.9262 6.40243 11.1663 7.38369 11.1663 8.59967V10.1663H11.3997C12.517 10.1663 13.1691 9.93981 13.5545 9.55445C13.9398 9.1691 14.1663 8.51703 14.1663 7.39967V4.59967C14.1663 3.48232 13.9398 2.83025 13.5545 2.44489C13.1691 2.05954 12.517 1.83301 11.3997 1.83301H8.59967C7.48232 1.83301 6.83025 2.05954 6.44489 2.44489ZM5.73779 1.73779C6.40243 1.07314 7.38369 0.833008 8.59967 0.833008H11.3997C12.6157 0.833008 13.5969 1.07314 14.2616 1.73779C14.9262 2.40243 15.1663 3.38369 15.1663 4.59967V7.39967C15.1663 8.61566 14.9262 9.59692 14.2616 10.2616C13.5969 10.9262 12.6157 11.1663 11.3997 11.1663H10.6663C10.3902 11.1663 10.1663 10.9425 10.1663 10.6663V8.59967C10.1663 7.48232 9.93981 6.83025 9.55445 6.44489C9.1691 6.05954 8.51703 5.83301 7.39967 5.83301H5.33301C5.05687 5.83301 4.83301 5.60915 4.83301 5.33301V4.59967C4.83301 3.38369 5.07314 2.40243 5.73779 1.73779Z"
                            fill="#8099B3"
                        />
                    </svg>
                </mat-button>
            </mat-form-field>
            <div class="app-base-input-hint">
                <span>{{ 'users.hints.password-form-hint' | translate }}</span>
            </div>
            <div class="app-base-input-hint app-base-input-error" *ngIf="password.invalid && (password.dirty || password.touched)">
                <div *ngIf="password.errors?.['required']">{{ 'users.hints.required' | translate }}</div>
                <div *ngIf="password.errors?.['pattern']">{{ 'users.hints.password-format' | translate }}</div>
                <div *ngIf="password.errors?.['minlength'] || password.errors?.['maxlength']">{{ 'users.hints.password-length' | translate }}</div>
            </div>
        </div>
    </div>

    <!-- DIALOG FOOTER -->
    <div class="app-dialog-footer">
        <div class="app-dialog-footer-part app-dialog-footer-warning" *ngIf="!passwordCopied">
            <div class="app-footer-info-icon">
                <img src="assets/icons/snack-warning-icon.png" />
            </div>
            <div class="app-footer-info-text">
                {{ 'users.hints.password-hint' | translate }}
            </div>
        </div>
        <div class="app-dialog-footer-part app-dialog-footer-check" *ngIf="passwordCopied">
            <div class="app-footer-info-icon">
                <img src="assets/icons/snack-check-icon.png" />
            </div>
            <div class="app-footer-info-text">
                {{ 'users.hints.password-copied' | translate }}
            </div>
        </div>
        <div class="app-dialog-footer-part app-dialog-footer-buttons">
            <app-button size="l" variant="tertiary" (click)="onCancel()">
                {{ 'buttons.cancel' | translate }}
            </app-button>
            <app-button size="l" variant="primary" [disabled]="data.action === 'add' ? userForm.invalid : false" (click)="onConfirm()">
                {{ 'buttons.save' | translate }}
            </app-button>
        </div>
    </div>
</div>
